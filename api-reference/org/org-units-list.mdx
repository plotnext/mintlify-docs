---
title: "List Organizational Units"
api: "GET /api/v1/org-units"
description: "Retrieve organizational units for your enterprise"
icon: "sitemap"
---

## Overview

Fetch all organizational units (departments, teams, divisions) within your enterprise. Returns a hierarchical structure with parent relationships included in each org unit.

## Authentication

<Warning>
This endpoint requires authentication. Include your JWT token in the request.
</Warning>

Provide authentication via:
- **Authorization header**: `Authorization: Bearer YOUR_TOKEN`
- **Cookie**: `auth_token` (automatically included in browser requests)

## Request

No request body or query parameters required. The enterprise context is automatically determined from the JWT token's `enterpriseId` claim.

## Response

<ResponseField name="orgUnits" type="array">
  Array of organizational unit objects with parent details
  
  <Expandable title="Org Unit Object">
    <ResponseField name="id" type="string">
      Org unit unique identifier (UUID)
    </ResponseField>
    
    <ResponseField name="name" type="string">
      Org unit display name
      
      **Example**: `"Sales"`, `"Engineering"`, `"EMEA"`, `"Product Team"`
    </ResponseField>
    
    <ResponseField name="parentId" type="string | null">
      Parent org unit ID if this is a child unit, `null` if root level
    </ResponseField>
    
    <ResponseField name="type" type="string">
      Org unit type
      
      **Options**: `"sales"`, `"cs"`, `"onboarding"`, `"exec"`
      
      **Default**: `"exec"`
    </ResponseField>
    
    <ResponseField name="parent" type="object | null">
      Parent org unit details (if exists)
      
      <Expandable title="Parent Object">
        <ResponseField name="id" type="string">
          Parent org unit ID
        </ResponseField>
        
        <ResponseField name="name" type="string">
          Parent org unit name
        </ResponseField>
        
        <ResponseField name="type" type="string">
          Parent org unit type
        </ResponseField>
        
        <ResponseField name="parentId" type="string | null">
          Grandparent org unit ID (if exists)
        </ResponseField>
      </Expandable>
    </ResponseField>
  </Expandable>
</ResponseField>

## Examples

### Fetch All Org Units

<RequestExample>
```bash cURL
curl -X GET 'http://localhost:3001/api/v1/org-units' \
  -H 'Authorization: Bearer YOUR_TOKEN'
```

```javascript JavaScript
const response = await fetch('/api/v1/org-units', {
  headers: {
    'Authorization': `Bearer ${token}`
  }
});

const data = await response.json();
console.log(`Found ${data.orgUnits.length} org units`);
```

```python Python
import requests

response = requests.get(
  'http://localhost:3001/api/v1/org-units',
  headers={'Authorization': f'Bearer {token}'}
)

data = response.json()
print(f"Found {len(data['orgUnits'])} org units")
```
</RequestExample>

<ResponseExample>
```json Success
{
  "orgUnits": [
    {
      "id": "root-org-unit",
      "name": "Acme Corporation",
      "parentId": null,
      "type": "exec",
      "parent": null
    },
    {
      "id": "sales-dept",
      "name": "Sales",
      "parentId": "root-org-unit",
      "type": "sales",
      "parent": {
        "id": "root-org-unit",
        "name": "Acme Corporation",
        "type": "exec",
        "parentId": null
      }
    },
    {
      "id": "sales-emea",
      "name": "Sales EMEA",
      "parentId": "sales-dept",
      "type": "sales",
      "parent": {
        "id": "sales-dept",
        "name": "Sales",
        "type": "sales",
        "parentId": "root-org-unit"
      }
    },
    {
      "id": "engineering",
      "name": "Engineering",
      "parentId": "root-org-unit",
      "type": "exec",
      "parent": {
        "id": "root-org-unit",
        "name": "Acme Corporation",
        "type": "exec",
        "parentId": null
      }
    }
  ]
}
```
</ResponseExample>

## Error Responses

<ResponseField name="error" type="string">
  Error message describing what went wrong
</ResponseField>

### Common Errors

<AccordionGroup>
<Accordion title="401 - Unauthorized">
```json
{
  "error": "Unauthorized"
}
```

Missing or invalid authentication token.
</Accordion>

<Accordion title="500 - Internal Server Error">
```json
{
  "error": "Internal server error"
}
```

An unexpected error occurred while fetching org units.
</Accordion>
</AccordionGroup>

## Org Unit Types

<AccordionGroup>
<Accordion title="Sales">
**Type**: `"sales"`

Sales departments, regional sales teams, and sales-related organizational units.

**Examples**: Sales EMEA, Sales APAC, Enterprise Sales, SMB Sales
</Accordion>

<Accordion title="Customer Success">
**Type**: `"cs"`

Customer success, customer support, and client services teams.

**Examples**: CS Team, Support, Account Management
</Accordion>

<Accordion title="Onboarding">
**Type**: `"onboarding"`

Teams responsible for customer onboarding and implementation.

**Examples**: Onboarding Team, Implementation Services
</Accordion>

<Accordion title="Executive">
**Type**: `"exec"`

Executive, leadership, and general organizational units.

**Examples**: Executive Team, Engineering, Product, Operations

**Note**: This is the default type and typically used for root-level org units.
</Accordion>
</AccordionGroup>

## Hierarchical Structure

Org units can be organized hierarchically with multiple levels:

```
Acme Corporation (root)
├── Sales
│   ├── Sales EMEA
│   │   ├── Sales UK
│   │   └── Sales France
│   ├── Sales APAC
│   └── Sales Americas
├── Engineering
│   ├── Frontend
│   └── Backend
└── Customer Success
    ├── CS EMEA
    └── CS Americas
```

### Building a Tree

The API returns a flat list with parent references. Here's how to build a tree structure:

```javascript
function buildOrgTree(orgUnits) {
  const map = new Map();
  const roots = [];
  
  // Create map of all units
  orgUnits.forEach(unit => {
    map.set(unit.id, { ...unit, children: [] });
  });
  
  // Build tree
  orgUnits.forEach(unit => {
    const node = map.get(unit.id);
    if (unit.parentId) {
      const parent = map.get(unit.parentId);
      if (parent) {
        parent.children.push(node);
      }
    } else {
      roots.push(node);
    }
  });
  
  return roots;
}

// Usage
const { orgUnits } = await fetch('/api/v1/org-units', {
  headers: { 'Authorization': `Bearer ${token}` }
}).then(r => r.json());

const tree = buildOrgTree(orgUnits);
```

## Common Use Cases

<AccordionGroup>
<Accordion title="Org Unit Selector">
```javascript
const { orgUnits } = await fetch('/api/v1/org-units', {
  headers: { 'Authorization': `Bearer ${token}` }
}).then(r => r.json());

// Create dropdown options with hierarchy
const options = orgUnits.map(unit => ({
  value: unit.id,
  label: unit.parent 
    ? `${unit.parent.name} > ${unit.name}`
    : unit.name
}));

// In React
<select>
  {options.map(opt => (
    <option key={opt.value} value={opt.value}>
      {opt.label}
    </option>
  ))}
</select>
```
</Accordion>

<Accordion title="Filter Root Units">
```javascript
const { orgUnits } = await fetch('/api/v1/org-units', {
  headers: { 'Authorization': `Bearer ${token}` }
}).then(r => r.json());

// Get only root-level org units
const rootUnits = orgUnits.filter(unit => unit.parentId === null);
console.log('Root units:', rootUnits);
```
</Accordion>

<Accordion title="Find Org Unit by Name">
```javascript
const { orgUnits } = await fetch('/api/v1/org-units', {
  headers: { 'Authorization': `Bearer ${token}` }
}).then(r => r.json());

// Find specific org unit
const salesUnit = orgUnits.find(unit => 
  unit.name.toLowerCase().includes('sales')
);
console.log('Sales unit:', salesUnit);
```
</Accordion>

<Accordion title="Get Children of Org Unit">
```javascript
const { orgUnits } = await fetch('/api/v1/org-units', {
  headers: { 'Authorization': `Bearer ${token}` }
}).then(r => r.json());

// Get all children of a specific parent
function getChildren(parentId) {
  return orgUnits.filter(unit => unit.parentId === parentId);
}

const salesChildren = getChildren('sales-dept');
console.log('Sales sub-units:', salesChildren);
```
</Accordion>

<Accordion title="Display Hierarchical List">
```javascript
const { orgUnits } = await fetch('/api/v1/org-units', {
  headers: { 'Authorization': `Bearer ${token}` }
}).then(r => r.json());

function getDepth(unit) {
  let depth = 0;
  let current = unit;
  while (current.parentId) {
    depth++;
    current = orgUnits.find(u => u.id === current.parentId);
  }
  return depth;
}

// Sort by hierarchy
const sorted = orgUnits.sort((a, b) => {
  const depthA = getDepth(a);
  const depthB = getDepth(b);
  if (depthA !== depthB) return depthA - depthB;
  return a.name.localeCompare(b.name);
});

// Display with indentation
sorted.forEach(unit => {
  const indent = '  '.repeat(getDepth(unit));
  console.log(`${indent}${unit.name}`);
});
```
</Accordion>
</AccordionGroup>

## Breadcrumb Navigation

Use parent relationships to build breadcrumb navigation:

```javascript
function getBreadcrumb(unitId, orgUnits) {
  const breadcrumb = [];
  let current = orgUnits.find(u => u.id === unitId);
  
  while (current) {
    breadcrumb.unshift({
      id: current.id,
      name: current.name
    });
    
    if (current.parentId) {
      current = orgUnits.find(u => u.id === current.parentId);
    } else {
      break;
    }
  }
  
  return breadcrumb;
}

// Usage
const breadcrumb = getBreadcrumb('sales-emea', orgUnits);
// Result: [
//   { id: 'root', name: 'Acme Corporation' },
//   { id: 'sales-dept', name: 'Sales' },
//   { id: 'sales-emea', name: 'Sales EMEA' }
// ]

// Render: Acme Corporation > Sales > Sales EMEA
console.log(breadcrumb.map(b => b.name).join(' > '));
```

## Filtering Users by Org Unit

Use org unit IDs with the users endpoint to filter by department:

```javascript
// Get all org units
const { orgUnits } = await fetch('/api/v1/org-units', {
  headers: { 'Authorization': `Bearer ${token}` }
}).then(r => r.json());

// Find sales org unit
const salesUnit = orgUnits.find(u => u.name === 'Sales');

// Get users in sales
const { users } = await fetch(
  `/api/v1/users?enterprise=${enterpriseId}&org_unit=${salesUnit.id}`,
  {
    headers: { 'Authorization': `Bearer ${token}` }
  }
).then(r => r.json());

console.log(`Found ${users.length} users in Sales`);
```

## Creating Org Units

To create new organizational units, use the create endpoint:

<Card title="Create Org Unit" icon="plus" href="/api-reference/org/org-units-create">
  Create a new organizational unit
</Card>

## Org Unit Closure Table

Behind the scenes, Arali uses a closure table (`org_unit_closure`) to efficiently query hierarchical relationships. This allows for fast queries like "find all descendants of a unit" or "find all ancestors."

<Note>
The closure table is automatically maintained when creating or updating org units. You don't need to manage it directly.
</Note>

## Related Endpoints

<CardGroup cols={2}>
<Card title="Create Org Unit" icon="plus" href="/api-reference/org/org-units-create">
  Create a new organizational unit
</Card>

<Card title="List Users" icon="users" href="/api-reference/users/list">
  Filter users by org unit
</Card>

<Card title="List Meetings" icon="calendar" href="/api-reference/meetings/list">
  Filter meetings by org unit
</Card>
</CardGroup>






